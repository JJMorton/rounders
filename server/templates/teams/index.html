{% extends "base.html" %}

{% block content %}

{% if current_user.is_authenticated %}

<div id="button-create-team" class="button-label-container">
    <a href="/teams/create?year={{ year }}&next={{ request.url }}">
        <button name="create-team" class="large-button"><i class="fa-solid fa-plus"></i></button>
        <label for="create-team">Create Team</label>
    </a>
</div>

{% endif %}

<section>
    {% with winning=teams[teams['points'] == teams.iloc[0]['points']] %}
        <h2>Current Leader{{ 's' if winning.shape[0] > 1 else '' }}: {{ ', '.join(winning['name']) }}</h2>
    {% endwith %}
    {% include 'partials/team_table.html' %}
</section>

<section>
    <ul class="page-nav">
        <li class="title">View year</li>
        {% for year in years %}
            <li><a class="highlight" href="/teams?year={{ year }}">{{ year }}</a></td>
        {% endfor %}
    </ul>
</section>

{% endblock %}
